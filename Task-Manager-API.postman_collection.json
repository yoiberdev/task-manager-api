{
	"info": {
		"name": "Task Manager API",
		"description": "Colecci贸n completa de endpoints para la API de gesti贸n de tareas desarrollada con Spring Boot",
		"version": "1.0.0",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"variable": [
		{
			"key": "baseUrl",
			"value": "http://localhost:8081",
			"type": "string"
		},
		{
			"key": "taskId",
			"value": "1",
			"type": "string"
		}
	],
	"item": [
		{
			"name": " Gesti贸n de Tareas",
			"item": [
				{
					"name": "Crear nueva tarea",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"title\": \"Completar documentaci贸n del proyecto\",\n  \"description\": \"Escribir documentaci贸n completa de la API con ejemplos y casos de uso\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/tasks",
							"host": ["{{baseUrl}}"],
							"path": ["api", "tasks"]
						}
					},
					"response": []
				},
				{
					"name": "Obtener todas las tareas",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/tasks",
							"host": ["{{baseUrl}}"],
							"path": ["api", "tasks"]
						}
					},
					"response": []
				},
				{
					"name": "Obtener tareas con paginaci贸n",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/tasks?page=0&size=5",
							"host": ["{{baseUrl}}"],
							"path": ["api", "tasks"],
							"query": [
								{
									"key": "page",
									"value": "0",
									"description": "N煤mero de p谩gina (basado en 0)"
								},
								{
									"key": "size",
									"value": "5",
									"description": "Cantidad de elementos por p谩gina"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Obtener tarea por ID",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/tasks/{{taskId}}",
							"host": ["{{baseUrl}}"],
							"path": ["api", "tasks", "{{taskId}}"]
						}
					},
					"response": []
				},
				{
					"name": "Actualizar tarea",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"title\": \"Documentaci贸n actualizada del proyecto\",\n  \"description\": \"Documentaci贸n completa con ejemplos mejorados y casos de uso detallados\",\n  \"completed\": true\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/tasks/{{taskId}}",
							"host": ["{{baseUrl}}"],
							"path": ["api", "tasks", "{{taskId}}"]
						}
					},
					"response": []
				},
				{
					"name": "Eliminar tarea",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/tasks/{{taskId}}",
							"host": ["{{baseUrl}}"],
							"path": ["api", "tasks", "{{taskId}}"]
						}
					},
					"response": []
				},
				{
					"name": "Alternar estado de tarea",
					"request": {
						"method": "PATCH",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/tasks/{{taskId}}/toggle",
							"host": ["{{baseUrl}}"],
							"path": ["api", "tasks", "{{taskId}}", "toggle"]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": " Filtrado y B煤squeda",
			"item": [
				{
					"name": "Filtrar tareas completadas",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/tasks?completed=true&page=0&size=10",
							"host": ["{{baseUrl}}"],
							"path": ["api", "tasks"],
							"query": [
								{
									"key": "completed",
									"value": "true",
									"description": "Filtrar por estado de completitud"
								},
								{
									"key": "page",
									"value": "0"
								},
								{
									"key": "size",
									"value": "10"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Filtrar tareas pendientes",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/tasks?completed=false&page=0&size=10",
							"host": ["{{baseUrl}}"],
							"path": ["api", "tasks"],
							"query": [
								{
									"key": "completed",
									"value": "false",
									"description": "Filtrar tareas pendientes"
								},
								{
									"key": "page",
									"value": "0"
								},
								{
									"key": "size",
									"value": "10"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Buscar tareas por palabra clave",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/tasks?search=documentaci贸n",
							"host": ["{{baseUrl}}"],
							"path": ["api", "tasks"],
							"query": [
								{
									"key": "search",
									"value": "documentaci贸n",
									"description": "Palabra clave para buscar en t铆tulo y descripci贸n"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Buscar tareas (endpoint dedicado)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/tasks/search?keyword=proyecto",
							"host": ["{{baseUrl}}"],
							"path": ["api", "tasks", "search"],
							"query": [
								{
									"key": "keyword",
									"value": "proyecto",
									"description": "Palabra clave para b煤squeda"
								}
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": " Estad铆sticas y Res煤menes",
			"item": [
				{
					"name": "Obtener resumen de tareas",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/tasks/summary",
							"host": ["{{baseUrl}}"],
							"path": ["api", "tasks", "summary"]
						}
					},
					"response": []
				},
				{
					"name": "Obtener estad铆sticas de tareas",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/tasks/stats",
							"host": ["{{baseUrl}}"],
							"path": ["api", "tasks", "stats"]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "И Casos de Prueba",
			"item": [
				{
					"name": "Test: Crear m煤ltiples tareas",
					"item": [
						{
							"name": "Crear tarea 1 - Urgente",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"title\": \"Revisar c贸digo de producci贸n\",\n  \"description\": \"Revisar el c贸digo antes del deployment a producci贸n\"\n}"
								},
								"url": {
									"raw": "{{baseUrl}}/api/tasks",
									"host": ["{{baseUrl}}"],
									"path": ["api", "tasks"]
								}
							},
							"response": []
						},
						{
							"name": "Crear tarea 2 - Normal",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"title\": \"Actualizar dependencias\",\n  \"description\": \"Actualizar las dependencias de Maven a las 煤ltimas versiones estables\"\n}"
								},
								"url": {
									"raw": "{{baseUrl}}/api/tasks",
									"host": ["{{baseUrl}}"],
									"path": ["api", "tasks"]
								}
							},
							"response": []
						},
						{
							"name": "Crear tarea 3 - Baja prioridad",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"title\": \"Refactorizar c贸digo legacy\",\n  \"description\": \"Mejorar la estructura del c贸digo antiguo para mejor mantenibilidad\"\n}"
								},
								"url": {
									"raw": "{{baseUrl}}/api/tasks",
									"host": ["{{baseUrl}}"],
									"path": ["api", "tasks"]
								}
							},
							"response": []
						}
					]
				},
				{
					"name": "Test: Validaciones",
					"item": [
						{
							"name": "Error - T铆tulo vac铆o",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"title\": \"\",\n  \"description\": \"Esta tarea deber铆a fallar por t铆tulo vac铆o\"\n}"
								},
								"url": {
									"raw": "{{baseUrl}}/api/tasks",
									"host": ["{{baseUrl}}"],
									"path": ["api", "tasks"]
								}
							},
							"response": []
						},
						{
							"name": "Error - Tarea inexistente",
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{baseUrl}}/api/tasks/999999",
									"host": ["{{baseUrl}}"],
									"path": ["api", "tasks", "999999"]
								}
							},
							"response": []
						},
						{
							"name": "Error - T铆tulo muy largo",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"title\": \"Este es un t铆tulo extremadamente largo que excede los 255 caracteres permitidos por la validaci贸n del sistema. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium.\",\n  \"description\": \"Esta tarea deber铆a fallar por t铆tulo muy largo\"\n}"
								},
								"url": {
									"raw": "{{baseUrl}}/api/tasks",
									"host": ["{{baseUrl}}"],
									"path": ["api", "tasks"]
								}
							},
							"response": []
						}
					]
				}
			]
		},
		{
			"name": " Enlaces de Documentaci贸n",
			"item": [
				{
					"name": "Swagger UI",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/swagger-ui.html",
							"host": ["{{baseUrl}}"],
							"path": ["swagger-ui.html"]
						}
					},
					"response": []
				},
				{
					"name": "OpenAPI JSON",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api-docs",
							"host": ["{{baseUrl}}"],
							"path": ["api-docs"]
						}
					},
					"response": []
				},
				{
					"name": "Health Check (Actuator)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/actuator/health",
							"host": ["{{baseUrl}}"],
							"path": ["actuator", "health"]
						}
					},
					"response": []
				}
			]
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					"// Script global que se ejecuta antes de cada request",
					"console.log('Ejecutando request a:', pm.request.url.toString());"
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					"// Tests globales que se ejecutan despu茅s de cada response",
					"pm.test('Status code should not be 500', function () {",
					"    pm.expect(pm.response.code).to.not.equal(500);",
					"});",
					"",
					"pm.test('Response time is less than 2000ms', function () {",
					"    pm.expect(pm.response.responseTime).to.be.below(2000);",
					"});",
					"",
					"// Guardar ID de tarea creada para usar en otros requests",
					"if (pm.response.code === 201 && pm.response.json().id) {",
					"    pm.collectionVariables.set('taskId', pm.response.json().id);",
					"    console.log('Nueva tarea creada con ID:', pm.response.json().id);",
					"}"
				]
			}
		}
	]
}